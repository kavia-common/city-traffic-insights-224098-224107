{"is_source_file": true, "format": "JavaScript", "description": "This file defines a TrafficController class with methods for handling traffic data requests such as live traffic, historical data, and predictions. It requires services from a traffic store module and a logger, and it exports an instance of the controller.", "external_files": ["../services/traffic", "../logger"], "external_methods": ["store.getLiveSnapshot", "store.getHistory", "store.predictShortTerm"], "published": ["TrafficController"], "classes": [{"name": "TrafficController", "description": "Controller for traffic endpoints providing live, history, and prediction data handling."}], "methods": [{"name": "live(req, res)", "description": "Handles requests to retrieve current live traffic snapshot for map overlays.", "scope": "TrafficController", "scopeKind": "class"}, {"name": "history(req, res)", "description": "Handles requests to retrieve traffic history between specified timestamps.", "scope": "TrafficController", "scopeKind": "class"}, {"name": "predict(req, res)", "description": "Handles requests to predict short-term traffic based on provided horizon minutes.", "scope": "TrafficController", "scopeKind": "class"}], "calls": ["store.getLiveSnapshot", "store.getHistory", "store.predictShortTerm", "res.status", "res.json", "logger.debug", "logger.error"], "search-terms": ["TrafficController", "traffic endpoints", "live snapshot", "history data", "predict short-term traffic"], "state": 2, "file_id": 16, "knowledge_revision": 33, "git_revision": "", "ctags": [{"_type": "tag", "name": "TrafficController", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/controllers/traffic.js", "pattern": "/^class TrafficController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/controllers/traffic.js", "pattern": "/^module.exports = new TrafficController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "history", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/controllers/traffic.js", "pattern": "/^  history(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "TrafficController", "scopeKind": "class"}, {"_type": "tag", "name": "live", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/controllers/traffic.js", "pattern": "/^  live(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "TrafficController", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/controllers/traffic.js", "pattern": "/^const logger = require('..\\/logger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "predict", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/controllers/traffic.js", "pattern": "/^  predict(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "TrafficController", "scopeKind": "class"}], "hash": "4dd4aaa207096093ad2b94fdc569b488", "format-version": 4, "code-base-name": "traffic_backend", "filename": "traffic_backend/src/controllers/traffic.js", "fields": [{"name": "module.exports = new TrafficController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"33": ""}]}