{"is_source_file": true, "format": "JavaScript (Node.js)", "description": "This file defines a MongoClient class for managing a singleton MongoDB connection using Mongoose, including connect and disconnect methods with logging.", "external_files": ["../logger", "../config"], "external_methods": ["logger.warn", "logger.info", "logger.error"], "published": ["mongoClient"], "classes": [{"name": "MongoClient", "description": "A class that manages the lifecycle of a MongoDB connection with methods for connecting and disconnecting, using internal flags to track connection state, and handling connection events."}], "methods": [{"name": "connect()", "description": "Establishes a mongoose connection if not already connected; logs success or failure.", "scope": "MongoClient", "scopeKind": "class"}, {"name": "disconnect()", "description": "Closes the mongoose connection if it is currently connected.", "scope": "MongoClient", "scopeKind": "class"}, {"name": "_maskUri(uri)", "description": "Masks sensitive parts of the MongoDB URI for logging purposes.", "scope": "MongoClient", "scopeKind": "class"}, {"name": "constructor()", "scope": "MongoClient", "scopeKind": "class", "description": "unavailable"}], "calls": ["mongoose.connect", "mongoose.connection.on", "mongoose.connection.close", "logger.warn", "logger.info", "logger.error"], "search-terms": ["MongoClient", "mongoose connection management", "singleton database connection", "MongoDB connect/disconnect"], "state": 2, "file_id": 19, "knowledge_revision": 47, "git_revision": "", "ctags": [{"_type": "tag", "name": "MongoClient", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^class MongoClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_maskUri", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^  _maskUri(uri) {$/", "language": "JavaScript", "kind": "method", "signature": "(uri)", "scope": "MongoClient", "scopeKind": "class"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^const config = require('..\\/config');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^  async connect() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "MongoClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "MongoClient", "scopeKind": "class"}, {"_type": "tag", "name": "disconnect", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^  async disconnect() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "MongoClient", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^const logger = require('..\\/logger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mongoClient", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^const mongoClient = new MongoClient();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mongoose", "path": "/home/kavia/workspace/code-generation/city-traffic-insights-224098-224107/traffic_backend/src/db/mongo.js", "pattern": "/^const mongoose = require('mongoose');$/", "language": "JavaScript", "kind": "constant"}], "hash": "1a76505ab5097674589ccc2477c6f551", "format-version": 4, "code-base-name": "traffic_backend", "filename": "traffic_backend/src/db/mongo.js", "revision_history": [{"47": ""}]}